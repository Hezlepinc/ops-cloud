(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[833],{2270:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/maps",function(){return s(5614)}])},387:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var n=s(651),l=s(4206),i=s.n(l),r=s(2379);function a(){let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=localStorage.getItem("ops-theme"),s=e?"dark"===e:window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",s),t(s)},[]),(0,n.jsxs)("button",{onClick:()=>{let s=!e;document.documentElement.classList.toggle("dark",s),localStorage.setItem("ops-theme",s?"dark":"light"),t(s)},className:"app-btn-ghost","aria-label":"Toggle theme",children:[e?"\uD83C\uDF19":"☀️"," ",(0,n.jsx)("span",{className:"hidden md:inline",children:e?"Dark":"Light"})]})}function o(){return(0,n.jsxs)("header",{className:"border-b border-zinc-200 dark:border-zinc-800",children:[(0,n.jsxs)("div",{className:"h-16 flex items-center justify-between px-6 bg-white dark:bg-zinc-950",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("img",{src:"/logo.png",alt:"Ops Cloud Logo",className:"h-8 w-auto dark:hidden"}),(0,n.jsx)("img",{src:"/logo-dark.png",alt:"Ops Cloud Logo",className:"h-8 w-auto hidden dark:block"}),(0,n.jsx)("span",{className:"font-semibold text-lg text-zinc-700 dark:text-zinc-200",children:"Ops Cloud"})]}),(0,n.jsx)("nav",{className:"hidden md:flex items-center gap-5 text-sm font-medium",children:[{name:"Home",href:"/"},{name:"Maps",href:"/maps"},{name:"Clients",href:"/clients"},{name:"SEO",href:"/seo"},{name:"Analytics",href:"/analytics"},{name:"Orchestrator",href:"/orchestrator"},{name:"Settings",href:"/settings"}].map(e=>(0,n.jsx)(i(),{href:e.href,className:"text-zinc-700 dark:text-zinc-300 hover:text-brand",children:e.name},e.href))}),(0,n.jsx)(a,{})]}),(0,n.jsx)("div",{className:"h-2 bg-brand"})]})}function d(){return(0,n.jsxs)("footer",{className:"h-10 border-t border-zinc-200 dark:border-zinc-800 flex items-center justify-center text-xs text-zinc-500 dark:text-zinc-400 bg-white/80 dark:bg-zinc-900/70",children:["\xa9 ",new Date().getFullYear()," Hezlep Inc. All rights reserved • Ops Cloud v0.2"]})}function c(e){let{children:t}=e;return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col bg-white dark:bg-zinc-950 text-zinc-800 dark:text-zinc-100",children:[(0,n.jsx)(o,{}),(0,n.jsx)("main",{className:"flex-1 px-6 py-4 overflow-hidden flex flex-col items-center justify-start",children:(0,n.jsx)("div",{className:"w-full max-w-[1600px] h-full",children:t})}),(0,n.jsx)(d,{})]})}},5614:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var n=s(651),l=s(2379),i=s(387),r=s(677),a=s(3788),o=s(4941),d=s(1843);s(2981);var c=s(148),h=s.n(c);let p={custom:function(e){let{data:t}=e;return(0,n.jsxs)("div",{style:{position:"relative",padding:8,borderRadius:8,boxShadow:"0 1px 2px rgba(0,0,0,0.1)",background:"#fff",border:"1px solid #e5e7eb"},children:[(0,n.jsx)(a.HH,{type:"target",position:a.Ly.Left,style:{background:"#6b7280"}}),(0,n.jsx)(a.HH,{type:"source",position:a.Ly.Right,style:{background:"#6b7280"}}),(0,n.jsx)(a.HH,{type:"source",position:a.Ly.Top,style:{background:"#6b7280"}}),(0,n.jsx)(a.HH,{type:"target",position:a.Ly.Bottom,style:{background:"#6b7280"}}),(0,n.jsx)("div",{style:{fontWeight:600},children:t.label}),t.description?(0,n.jsx)("div",{style:{fontSize:12,color:"#6b7280"},children:t.description}):null]})}},u=e=>fetch(e).then(e=>e.json());function x(){var e,t;let{data:s}=(0,r.ZP)("/maps/architecture.json",u),{data:i}=(0,r.ZP)("/maps/environments.json",u),{data:c}=(0,r.ZP)("/maps/sites.json",u),[x,m]=(0,l.useState)(!0),[g,b]=(0,l.useState)({}),[f,j]=(0,l.useState)(!1),[y,v]=(0,l.useState)(!1),k=(0,l.useCallback)(e=>{b(t=>({...t,[e]:!t[e]}))},[]),w=(0,l.useCallback)(()=>{m(!0),b({})},[]),N=(0,l.useCallback)(()=>{let e={};i&&"object"==typeof i&&Object.entries(i).forEach(t=>{let[s,n]=t;Object.keys(n||{}).forEach(t=>{e["app:".concat(s,":").concat(t)]=!0})}),m(!0),b(e)},[i]),{nodes:C,edges:z}=(0,l.useMemo)(()=>{let e=[],t=[],n={border:"1px solid #e5e7eb",background:"#fff"},l=(t,l,i,r)=>{var a,o;let d=((null==s?void 0:s.nodes)||[]).find(e=>e.id===t);e.push({id:t,type:r||((null==d?void 0:null===(a=d.data)||void 0===a?void 0:a.description)?"custom":void 0),data:{label:l,description:null==d?void 0:null===(o=d.data)||void 0===o?void 0:o.description},position:{x:0,y:0},style:{...n,...(null==d?void 0:d.style)||{}},parentNode:i})},r=(e,s,n)=>{t.push({id:"".concat(e,"→").concat(s),source:e,target:s,label:n,markerEnd:{type:a.QZ.ArrowClosed,color:"#374151"}})};if(l("ops-cloud","Ops Cloud"),l("render","Render"),l("cloudways","Cloudways"),l("github","GitHub"),r("ops-cloud","render"),r("render","cloudways"),r("cloudways","github"),f&&[{id:"comp:docs",label:"Docs"},{id:"comp:scripts",label:"Scripts"},{id:"comp:templates",label:"Templates"},{id:"comp:cicd",label:"CI/CD"},{id:"comp:orchestrator",label:"Orchestrator API"}].forEach(e=>{l(e.id,e.label),r("ops-cloud",e.id)}),y&&[{id:"stack:next",label:"Next.js"},{id:"stack:tailwind",label:"TailwindCSS"},{id:"stack:reactflow",label:"ReactFlow"}].forEach(e=>{l(e.id,e.label),r(e.id,"ops-cloud")}),x){l("cw-server","Cloudways Server"),r("cloudways","cw-server");let e=[];i&&"object"==typeof i&&Object.entries(i).forEach(t=>{let[s,n]=t;Object.keys(n||{}).forEach(t=>{let n="app:".concat(s,":").concat(t);l(n,"".concat(s," ").concat(t),void 0),r("cw-server",n),e.push(n)})}),e.forEach(e=>{if(!g[e])return;let t=e.split(":")[1]||"",s=Object.keys(c||{}).find(e=>e.toLowerCase().includes(t.replace("-","")))||Object.keys(c||{})[0];(c&&s&&c[s]?Object.entries(c[s]):[]).slice(0,12).forEach((t,s)=>{let[n]=t,i="".concat(e,":page:").concat(n);l(i,n),s%2==0?r(e,i):r(i,e)})})}let o=new(h()).graphlib.Graph;return o.setGraph({rankdir:"LR",nodesep:40,ranksep:80,marginx:50,marginy:50}),o.setDefaultEdgeLabel(()=>({})),e.forEach(e=>o.setNode(e.id,{width:180,height:60})),t.forEach(e=>o.setEdge(e.source,e.target)),h().layout(o),{nodes:e.map(e=>{let t=o.node(e.id);return{...e,position:{x:t.x-90,y:t.y-30}}}),edges:t}},[s,i,c,x,g,f,y]),[L,S]=(0,l.useState)(null),E=(0,l.useMemo)(()=>L?C.find(e=>e.id===L):null,[C,L]),O=(0,l.useMemo)(()=>L?z.filter(e=>e.source===L||e.target===L):[],[z,L]),A=(0,l.useCallback)((e,t)=>{if(t.id.startsWith("app:")){k(t.id);return}if("cloudways"===t.id){m(e=>!e);return}if("ops-cloud"===t.id){e.shiftKey?v(e=>!e):j(e=>!e);return}},[k]),_=(0,l.useCallback)((e,t)=>{S((null==t?void 0:t.id)||null)},[]),D=(0,l.useCallback)(()=>S(null),[]);return(0,n.jsx)(a.tV,{children:(0,n.jsxs)("div",{style:{height:"calc(100vh - 120px)",border:"1px solid #eee",position:"relative"},children:[(0,n.jsxs)("div",{style:{display:"flex",gap:8,padding:8},children:[(0,n.jsx)("button",{onClick:w,className:"app-btn-ghost",children:"Reset Layout"}),(0,n.jsx)("button",{onClick:N,className:"app-btn-ghost",children:"Expand All Apps"})]}),(0,n.jsx)("div",{style:{position:"absolute",inset:"48px 320px 0 0"},children:(0,n.jsxs)(a.x$,{nodes:C,edges:z,nodeTypes:p,onNodeDoubleClick:A,onNodeClick:_,onPaneClick:D,fitView:!0,fitViewOptions:{padding:.2},minZoom:.2,maxZoom:1.5,children:[(0,n.jsx)(o.A,{}),(0,n.jsx)(d.Z,{})]})}),(0,n.jsxs)("aside",{style:{position:"absolute",top:48,right:0,bottom:0,width:320,borderLeft:"1px solid #e5e7eb",background:"#fff"},children:[(0,n.jsx)("div",{className:"p-3 border-b border-zinc-100 text-sm font-medium",children:"Inspector"}),E?(0,n.jsxs)("div",{className:"p-3 text-sm space-y-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-semibold",children:"ID:"})," ",E.id]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-semibold",children:"Label:"})," ",(null==E?void 0:null===(e=E.data)||void 0===e?void 0:e.label)||E.id]}),(null==E?void 0:null===(t=E.data)||void 0===t?void 0:t.description)?(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-semibold",children:"Note:"})," ",E.data.description]}):null,(0,n.jsx)("div",{className:"mt-2 font-semibold",children:"Connections"}),(0,n.jsx)("ul",{className:"list-disc ml-4",children:O.map(e=>(0,n.jsxs)("li",{children:[e.source," → ",e.target]},e.id))})]}):(0,n.jsx)("div",{className:"p-3 text-sm text-zinc-500",children:"Click a node to see details."})]})]})})}let m=e=>fetch(e).then(e=>e.json());function g(){let{data:e}=(0,r.ZP)("/maps/environments.json",m);return e?(0,n.jsx)("div",{style:{paddingLeft:8},children:Object.entries(e).map(e=>{let[t,s]=e;return(0,n.jsxs)("div",{style:{marginBottom:12},children:[(0,n.jsx)("h2",{style:{fontWeight:600},children:t}),(0,n.jsx)("ul",{style:{marginLeft:16},children:Object.entries(s).map(e=>{let[t,s]=e,l="string"==typeof s?s:(null==s?void 0:s.url)||"",i="object"==typeof s&&(null==s?void 0:s.provider)||"",r="object"==typeof s&&(null==s?void 0:s.status)||"";return(0,n.jsxs)("li",{children:[l?(0,n.jsxs)("a",{href:l,target:"_blank",rel:"noreferrer",style:{color:"#2563eb",textDecoration:"underline"},children:[t.toUpperCase()," – ",l]}):(0,n.jsx)("span",{children:t.toUpperCase()}),(0,n.jsxs)("span",{style:{marginLeft:8,color:"#6b7280",fontSize:12},children:[i?"(".concat(i,")"):""," ",r?"• ".concat(r):""]})]},t)})})]},t)})}):(0,n.jsx)("p",{children:"Loading environments…"})}let b=e=>fetch(e).then(e=>e.json());function f(){let[e,t]=(0,l.useState)(""),{data:s}=(0,r.ZP)("https://staging.sparky-hq.com/wp-json/wp/v2/pages?per_page=100",b),{data:i}=(0,r.ZP)("https://staging.sparky-hq.com/wp-json/elementor/v1/templates",b),a=Array.isArray(s)?s:[],o=(0,l.useMemo)(()=>{if(!e)return a;let t=e.toLowerCase();return a.filter(e=>{var s;return((null===(s=e.title)||void 0===s?void 0:s.rendered)||"").toLowerCase().includes(t)||(e.slug||"").toLowerCase().includes(t)})},[a,e]);return s?(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{marginBottom:12,display:"flex",gap:8,alignItems:"center"},children:[(0,n.jsx)("input",{placeholder:"Search pages…",value:e,onChange:e=>t(e.target.value),style:{border:"1px solid #d1d5db",borderRadius:6,padding:"6px 10px",width:280}}),(0,n.jsxs)("span",{style:{color:"#6b7280",fontSize:12},children:[o.length," / ",s.length," pages ",i?"(templates: ".concat(Array.isArray(i)?i.length:0,")"):""]})]}),(0,n.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid #e5e7eb"},children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{style:{background:"#f3f4f6"},children:[(0,n.jsx)("th",{style:{padding:8,textAlign:"left"},children:"Page"}),(0,n.jsx)("th",{style:{padding:8,textAlign:"left"},children:"Slug"}),(0,n.jsx)("th",{style:{padding:8,textAlign:"left"},children:"Template"}),(0,n.jsx)("th",{style:{padding:8,textAlign:"left"},children:"Updated"}),(0,n.jsx)("th",{style:{padding:8,textAlign:"left"},children:"Actions"})]})}),(0,n.jsx)("tbody",{children:o.map(e=>(0,n.jsxs)("tr",{style:{borderTop:"1px solid #e5e7eb"},children:[(0,n.jsx)("td",{style:{padding:8},dangerouslySetInnerHTML:{__html:e.title.rendered}}),(0,n.jsx)("td",{style:{padding:8},children:e.slug}),(0,n.jsx)("td",{style:{padding:8},children:e.template||"Default"}),(0,n.jsx)("td",{style:{padding:8},children:new Date(e.modified).toLocaleDateString()}),(0,n.jsx)("td",{style:{padding:8},children:(0,n.jsx)("a",{href:e.link,target:"_blank",rel:"noreferrer",style:{color:"#2563eb",textDecoration:"underline"},children:"View"})})]},e.id))})]})]}):(0,n.jsx)("p",{children:"Loading pages…"})}let j=e=>fetch(e).then(e=>e.json());function y(){let{data:e}=(0,r.ZP)("/maps/history.json",j);return e?(0,n.jsx)("div",{style:{paddingLeft:8},children:e.map((e,t)=>(0,n.jsxs)("div",{style:{marginBottom:12},children:[(0,n.jsx)("div",{style:{fontWeight:600},children:new Date(e.timestamp).toLocaleString()}),(0,n.jsxs)("div",{style:{fontSize:12,color:"#6b7280"},children:["by ",e.by]}),(0,n.jsx)("ul",{style:{marginLeft:16},children:(e.updated||[]).map((e,t)=>(0,n.jsx)("li",{children:e},t))})]},t))}):(0,n.jsx)("p",{children:"Loading history…"})}function v(){let[e,t]=(0,l.useState)("architecture");return(0,n.jsx)(i.Z,{children:(0,n.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)("h1",{className:"text-2xl font-semibold",children:"Ops-Cloud Project Maps"})}),(0,n.jsxs)("div",{className:"inline-flex gap-2 mb-4",children:[(0,n.jsx)("button",{onClick:()=>t("architecture"),className:"app-btn-ghost ".concat("architecture"===e?"bg-zinc-100 dark:bg-zinc-800":""),children:"Architecture"}),(0,n.jsx)("button",{onClick:()=>t("environments"),className:"app-btn-ghost ".concat("environments"===e?"bg-zinc-100 dark:bg-zinc-800":""),children:"Environments"}),(0,n.jsx)("button",{onClick:()=>t("pages"),className:"app-btn-ghost ".concat("pages"===e?"bg-zinc-100 dark:bg-zinc-800":""),children:"Pages"}),(0,n.jsx)("button",{onClick:()=>t("history"),className:"app-btn-ghost ".concat("history"===e?"bg-zinc-100 dark:bg-zinc-800":""),children:"History"})]}),"architecture"===e&&(0,n.jsx)(x,{}),"environments"===e&&(0,n.jsx)(g,{}),"pages"===e&&(0,n.jsx)(f,{}),"history"===e&&(0,n.jsx)(y,{})]})})}}},function(e){e.O(0,[419,206,677,661,888,774,179],function(){return e(e.s=2270)}),_N_E=e.O()}]);